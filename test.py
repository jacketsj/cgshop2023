from cgshop2023_pyutils import InstanceDatabase, read_solution, verify

idb = InstanceDatabase("instances")
a = ["ccheese11045", "ccheese1125", "ccheese13171", "ccheese1325", "ccheese142", "ccheese15357", "ccheese17543", "ccheese1762", "ccheese194", "ccheese21892", "ccheese2225", "ccheese234", "ccheese26314", "ccheese2643", "ccheese282", "ccheese30746", "ccheese3082", "ccheese35084", "ccheese372", "ccheese43760", "ccheese4390", "ccheese459", "ccheese528", "ccheese5289", "ccheese65632", "ccheese6568", "ccheese686", "ccheese7893", "ccheese877", "ccheese87712", "ccheese8817", "cheese100003", "cheese1006", "cheese12554", "cheese1262", "cheese14941", "cheese1516", "cheese163", "cheese17474", "cheese19947", "cheese2058", "cheese225", "cheese25028", "cheese2527", "cheese271", "cheese29976", "cheese3015", "cheese302", "cheese3489", "cheese34962", "cheese39834", "cheese399", "cheese4951", "cheese50158", "cheese528", "cheese6044", "cheese617", "cheese74951", "cheese7514", "cheese773", "cheese9051", "cheese9957", "fpg-poly_0000000020_h1", "fpg-poly_0000000020_h2", "fpg-poly_0000000040_h1", "fpg-poly_0000000070_h2", "fpg-poly_0000000400_h2", "fpg-poly_0000000800_h7", "fpg-poly_0000001300_h7", "fpg-poly_0000004900_h2", "fpg-poly_0000008100_h6", "fpg-poly_0000009600_h8", "fpg-poly_0000050000_h9", "maze_10174_500_05_001", "maze_104559_1200_025_001", "maze_109_50_025_00", "maze_115769_1200_025_01", "maze_124_50_01_001", "maze_124_50_01_005", "maze_124_50_025_01", "maze_126979_1200_01_00", "maze_129304_1200_01_005", "maze_129819_1200_001_005", "maze_134_50_01_01", "maze_136699_1200_01_01", "maze_15429_500_025_01", "maze_154_50_001_001", "maze_16019_500_025_005", "maze_164_50_001_01", "maze_16549_500_01_01", "maze_18474_500_01_001", "maze_184_50_001_005", "maze_19609_500_001_001", "maze_21184_500_001_005", "maze_21919_500_01_005", "maze_24234_500_001_00", "maze_2514_250_05_001", "maze_2534_250_05_01", "maze_2604_250_05_00", "maze_29364_750_05_005", "maze_3329_250_025_001", "maze_3564_250_025_005", "maze_3634_250_025_01", "maze_39479_750_01_005", "maze_3969_250_01_01", "maze_39929_750_025_001", "maze_4169_250_025_00", "maze_42329_1000_05_01", "maze_4344_250_001_01", "maze_43729_750_001_00", "maze_45284_1000_05_00", "maze_45859_750_001_01", "maze_45884_750_01_00", "maze_47214_1000_05_005", "maze_4759_250_01_001", "maze_48674_750_001_001", "maze_5084_250_001_005", "maze_5244_250_001_001", "maze_57334_1200_05_01", "maze_64279_1000_025_001", "maze_64679_1000_025_005", "maze_69374_1000_025_00", "maze_74_50_05_00", "maze_77384_1000_01_00", "maze_77579_1000_001_01", "maze_79369_1000_01_005", "maze_79619_1000_001_005", "maze_79_50_05_005", "maze_8299_500_05_005", "maze_83604_1000_01_001", "maze_84994_1000_001_001", "maze_84_50_05_01", "maze_97289_1200_01_001", "socg60", "socg92", "socg_fixed60", "socg_fixed92", "srpg_iso_aligned_mc0000088", "srpg_iso_aligned_mc0000286", "srpg_iso_aligned_mc0000451", "srpg_iso_aligned_mc0000609", "srpg_iso_aligned_mc0000624", "srpg_iso_aligned_mc0001258", "srpg_iso_aligned_mc0001336", "srpg_iso_aligned_mc0003255", "srpg_iso_aligned_mc0003883", "srpg_iso_aligned_mc0006138", "srpg_iso_aligned_mc0010085", "srpg_iso_aligned_mc0015285", "srpg_iso_aligned_mc0067791", "srpg_iso_aligned_mc0094745", "srpg_iso_mc0000080", "srpg_iso_mc0000261", "srpg_iso_mc0000266", "srpg_iso_mc0000946", "srpg_iso_mc0001463", "srpg_iso_mc0001964", "srpg_iso_mc0002462", "srpg_iso_mc0015281", "srpg_mc0000506", "srpg_mc0001112", "srpg_mc0001937", "srpg_mc0004240", "srpg_mc0006513", "srpg_mc0009594", "srpg_mc0012065", "srpg_mc0019977", "srpg_mc0063684", "srpg_mc0067337", "srpg_mc0068359", "srpg_mc0080065", "srpg_mc0095504", "srpg_mc0104714", "srpg_octa_mc0000082", "srpg_octa_mc0000297", "srpg_octa_mc0000322", "srpg_octa_mc0000784", "srpg_octa_mc0001206", "srpg_octa_mc0001647", "srpg_octa_mc0001693", "srpg_octa_mc0002605", "srpg_octa_mc0007035", "srpg_octa_mc0011620", "srpg_octa_mc0024691", "srpg_octa_mc0030848", "srpg_octa_mc0083376", "srpg_octa_mc0097331", "srpg_octa_mc0107884", "srpg_smo_mc0005962", "srpg_smo_mc0022826", "srpg_smo_mc0023438", "srpg_smo_mc0027976", "srpg_smo_mc0040970", "srpg_smo_mc0048732", "srpg_smo_mc0062031", "srpg_smo_mc0064487", "srpg_smo_mc0089743", "srpg_smo_mc0094408", "srpg_smr_mc0006333", "srpg_smr_mc0014427", "srpg_smr_mc0015995", "srpg_smr_mc0023805", "srpg_smr_mc0041883", "srpg_smr_mc0070381", "srpg_smr_mc0075643", "srpg_smr_mc0097788"]

for name in a:
    solution = read_solution("solutions/" + name + ".solution.json")
    instance = idb[solution["instance"]]

    err_msg = verify(instance, solution)
    if err_msg:
        print("SOLUTION ", name, " INVALID: ", err_msg)
    else:
        print("Verified: ", name)
